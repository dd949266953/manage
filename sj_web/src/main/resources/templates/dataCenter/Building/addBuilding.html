<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title th:text="${building.id==null}?'添加楼宇':'修改楼宇'"></title>
    <link rel="stylesheet" th:href="@{/css/back_public.css}"/>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"/>
    <script th:src="@{/layui/layui.js}" type="text/javascript"></script>
    <script th:src="@{/js/jquery-3.2.1.js}" type="text/javascript"></script>
</head>
<body>
<header th:text="${building}"></header>
<!--<header th:text="${building.id==null}?'添加楼宇':'修改楼宇'"></header>-->
<section>
    <div class="main">
        <form class="layui-form" action="" th:object="${building}">
            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>楼宇名称 :</label>
                <div class="layui-input-block row row-div">
                    <input type="text" name="name" th:value="*{name}" lay-verify="title" autocomplete="off"
                           placeholder="请输入小区名称"
                           class="layui-input input">
                </div>
            </div>
            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>单元数量 :</label>
                <div class="layui-input-block row row-div">
                    <input type="text" name="unittotal" th:value="*{unittotal}" lay-verify="title" autocomplete="off"
                           placeholder="请输入数量"
                           class="layui-input input short-div">
                </div>
            </div>
            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>楼宇层数 :</label>
                <div class="layui-input-block row row-div">
                    <input type="text" name="pliestotal" th:value="*{pliestotal}" lay-verify="title" autocomplete="off"
                           placeholder="请输入层数"
                           class="layui-input input short-div">
                </div>
            </div>

            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>楼宇类型 :</label>
                <div class="layui-input-block row row-div">
                    <select name="buildingtype" lay-filter="aihao">
                        <option value=""></option>
                        <option th:each="build:${buildingType}" th:value="${build.id}"
                                th:text="${build.content}" th:selected="${build.id eq building.id}"></option>
                    </select>
                </div>
            </div>
            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>楼宇结构 :</label>
                <div class="layui-input-block row row-div">
                    <input type="text" name="buildingstructure" th:value="*{buildingstructure}" lay-verify="title"
                           autocomplete="off" placeholder="请输入类型：例：几室几厅"
                           class="layui-input input">
                </div>
            </div>
            <div class="layui-form-item form-item">
                <label class="layui-form-label row lable">
                    <span>*</span>朝向 :</label>
                <div class="layui-input-block row row-div">
                    <input type="text" name="orientation" th:value="*{orientation}" lay-verify="title"
                           autocomplete="off" placeholder="请输入房屋朝向"
                           class="layui-input input ">
                </div>
            </div>
        </form>
        <div class="buttondiv">
            <div class="button-item"></div>
            <div class="button-item">
                <button class="layui-btn layui-btn-normal layui-btn-radius  save">保存</button>
                <button class="layui-btn layui-btn-normal layui-btn-radius ">返回</button>
            </div>
        </div>
    </div>
</section>
<footer>
    Copyright 2013-2018 weixiaoqu.com 成都云联峰创科技有限公司旗下产品
</footer>
<script>
    layui.use(['form', 'laydate'], function () {
        $(".save").click(function () {
            $.post('/Building/addBuilding', $("form").serialize(), function (result) {
                if (result === 1) {
                    layer.msg("添加成功", {
                        icon: 1
                    })
                    window.location = "/Building/buildingList.html";
                } else {
                    layer.msg("添加失败", {
                        icon: 2
                    })
                }
            })
        })
    })
</script>
</body>
</html>
